{% extends 'hikes/directions_modal.html' %}
{% load staticfiles %}

{% block head-block2 %}
      <link rel="stylesheet" href="{% static "css/details.css" %}" />
{% endblock %}

{% block title_block %}{{ hike.name }}{% endblock %}
{% block content %}

<div class="body">
<script src="{% static "js/hikes.js" %}"></script>

    <h2 id="hike">{{ hike.name }}</h2> - <span id="likes">{{ hike.likes }} likes</span>
    <div class="trailhead"><h4>{{ trailhead.name }} -
        <a class="region-modal-link" data-toggle="modal" data-target="#mapModal" data-lat="{{ trailhead.latitude }}"
           data-lon="{{ trailhead.longitude }}" data-hiker-location="{{ hiker.location }}">map/directions</a></h4></div>

    <div class="difficulty" id="{{ hike.difficulty_level }}">{{ hike.difficulty_level }} - <a href="#" onclick="toggleDisplay('diff_exp');" id="diff_why">Why</a>
        <div id="diff_exp" style="display: none">
            {% if hike.difficulty_level_explanation %}
                {{ hike.difficulty_level_explanation }}
            {% else %}
                <a href="#" id="add_diff_exp"  onclick="toggleDisplay('diff_exp_form');">add an explanation?</a>
                <input type="text" class="form-control" id="diff_exp_form" style="display: none"  onkeydown="turnOnDisplay('save');">
            {% endif %}
        </div>
    </div>


    <div class="user_adds">
        <ul>
            <li><a href="#" id="favs">Add to favorites</a></li>
            <li><a href="#" id="checkin">Check-in/Checkout</a></li>
            <li>Last Hiked On: <a href="#" id="last_hiked"><i>login in to see</i></a></li>
        </ul>
    </div>

    <div class="basic_details">
        <ul>
            <li class="col1">{{ hike.distance }} miles {{ hike.hike_type }}</li>
            <li class="col2">approx
                {% if hiker.hours > 0 %}
                    {% if hiker.minutes > 0 %}
                        {{ hiker.hours }} hours and {{ hiker.minutes }} minutes
                    {% else %}
                        {{ hiker.hours }} hours
                    {% endif %}
                {% else %}
                    {{ hiker.minutes }} minutes
                {% endif %}
                at your pace of {{ hiker.pace }} miles per hour
            </li>
            <li class="col1">elevation: {{ hike.elevation }}</li>
            <li class="col2">high point: {{ hike.high_point }}</li>
        </ul>
        <div class="description" id="hike_descrp">
            {% if hike.description %}
                {{ hike.description }}
            {% else %}
                <a href="#" id="add_descrip"  onclick="toggleDisplay('add_descrip_form');">add a description?</a>
                <textarea rows="3" class="form-control" id="add_descrip_form" style="display: none" onkeydown="turnOnDisplay('save');"></textarea>
            {% endif %}
        </div>
        <div class="trailMap" id="trail_map">
                {% if hike.trail_map %}
                    Trail Map: <img src="/media/{{ hike.trail_map }}">
                {% else %}
                    <a href="#" id="add_map"  onclick="toggleDisplay('add_map_form');">add a trail map?</a>
                    <input type="file" id="add_map_form" style="display: none"  onclick="turnOnDisplay('save');">
                {% endif %}
        </div>

        <div class="saveAll" id="save_all">
            <input type="button" class='btn' id="save" style="display: none" value="Save" action="/hikes/hikesajax/" method="post">
        </div>


</div>
<script src="{% static "js/hike-details.js" %}"></script>
{% endblock content %}